<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Item Quantity Dropdown</title>

    <link
      rel="stylesheet"
      href="//fonts.googleapis.com/css?family=Open+Sans:400,600,700"
    />

    <style media="screen">
      .l-container {
        max-width: calc(500px + 20px);
        margin: 0 auto;
        padding: 0 10px;
        width: 100%;
      }
    </style>
  </head>

  <body>
    <div class="l-container">
      <h2>Item Quantity Dropdown Demo</h2>
      <h3>No config options</h3>
      <div class="no-config iqdropdown">
        <p class="iqdropdown-selection"></p>
        <div class="iqdropdown-menu">
          <div class="iqdropdown-menu-option" data-id="item1">
            <div>
              <p class="iqdropdown-item">Item 1</p>
              <p class="iqdropdown-description">A short description</p>
            </div>
          </div>
          <div class="iqdropdown-menu-option" data-id="item2">
            <div>
              <p class="iqdropdown-item">Item 2</p>
              <p class="iqdropdown-description">A short description</p>
            </div>
          </div>
          <div class="iqdropdown-menu-option" data-id="item3">
            <div>
              <p class="iqdropdown-item">Item 3</p>
              <p class="iqdropdown-description">A short description</p>
            </div>
          </div>
          <div class="iqdropdown-menu-option" data-id="item4">
            <div>
              <p class="iqdropdown-item">Item 4</p>
              <p class="iqdropdown-description">A short description</p>
            </div>
          </div>
          <div class="iqdropdown-menu-option" data-id="item5">
            <div>
              <p class="iqdropdown-item">Item 5</p>
              <p class="iqdropdown-description">A short description</p>
            </div>
          </div>
        </div>
      </div>

      <h3>No config options with custom selection message</h3>
      <div class="no-config iqdropdown">
        <p class="iqdropdown-selection" data-selection-text="passenger" data-text-plural="passengers"></p>
        <div class="iqdropdown-menu">
          <div
            class="iqdropdown-menu-option"
            data-id="adult"
            data-defaultcount="1"
            data-mincount="1"
          >
            <div>
              <p class="iqdropdown-item">Adults</p>
              <p class="iqdropdown-description">12+ years</p>
            </div>
          </div>
          <div
            class="iqdropdown-menu-option"
            data-id="minor"
            data-defaultcount="0"
            data-mincount="0"
          >
            <div>
              <p class="iqdropdown-item">Children</p>
              <p class="iqdropdown-description">2 - 11 years</p>
            </div>
          </div>
          <div class="iqdropdown-menu-option" data-id="infant">
            <div>
              <p class="iqdropdown-item">Infants</p>
              <p class="iqdropdown-description">2 years</p>
            </div>
          </div>
        </div>
      </div>

      <h3>Custom config</h3>

      <div class="custom iqdropdown">
        <p class="iqdropdown-selection"></p>
        <div class="iqdropdown-menu">
          <div
            class="iqdropdown-menu-option"
            data-id="adult"
            data-defaultcount="1"
            data-mincount="1"
          >
            <div>
              <p class="iqdropdown-item">Adults</p>
              <p class="iqdropdown-description">12+ years</p>
            </div>
          </div>
          <div
            class="iqdropdown-menu-option"
            data-id="minor"
            data-defaultcount="0"
            data-mincount="0"
          >
            <div>
              <p class="iqdropdown-item">Children</p>
              <p class="iqdropdown-description">2 - 11 years</p>
            </div>
          </div>
          <div class="iqdropdown-menu-option" data-id="infant">
            <div>
              <p class="iqdropdown-item">Infants</p>
              <p class="iqdropdown-description">2 years</p>
            </div>
          </div>
          <button class="iqdropdown-menu-close">
            Cerrar
          </button>
        </div>
      </div>

      <h3>Custom config (2nd instance)</h3>

      <div class="custom iqdropdown">
        <p class="iqdropdown-selection"></p>
        <div class="iqdropdown-menu">
          <div
            class="iqdropdown-menu-option"
            data-id="adult"
            data-defaultcount="1"
            data-mincount="1"
          >
            <div>
              <p class="iqdropdown-item">Adults</p>
              <p class="iqdropdown-description">12+ years</p>
            </div>
          </div>
          <div
            class="iqdropdown-menu-option"
            data-id="minor"
            data-defaultcount="0"
            data-mincount="0"
          >
            <div>
              <p class="iqdropdown-item">Children</p>
              <p class="iqdropdown-description">2 - 11 years</p>
            </div>
          </div>
          <div class="iqdropdown-menu-option" data-id="infant">
            <div>
              <p class="iqdropdown-item">Infants</p>
              <p class="iqdropdown-description">2 years</p>
            </div>
          </div>
          <button class="iqdropdown-menu-close">
            Cerrar
          </button>
        </div>
      </div>

      <h3>Custom message</h3>

      <div class="custom-message iqdropdown">
        <p class="iqdropdown-selection"></p>
        <div class="iqdropdown-menu">
          <div
            class="iqdropdown-menu-option"
            data-id="item-a"
            data-defaultcount="0"
            data-mincount="0"
            data-maxcount="5"
          >
            <div>
              <p class="iqdropdown-item">Item A</p>
            </div>
          </div>
          <div
            class="iqdropdown-menu-option"
            data-id="item-b"
            data-defaultcount="0"
            data-mincount="0"
            data-maxcount="5"
          >
            <div>
              <p class="iqdropdown-item">Item B</p>
            </div>
          </div>

          <button class="iqdropdown-menu-close">
            Cerrar
          </button>
        </div>
      </div>

    </div> <!-- Container -->

    <script
      src="https://code.jquery.com/jquery-3.0.0.min.js"
      integrity="sha256-JmvOoLtYsmqlsWxa7mDSLMwa6dZ9rrIdtrrVYRnDRH0="
      crossorigin="anonymous"
    ></script>

    <script type="text/javascript">
      $(document).ready(function() {
        $(".no-config").iqDropdown();

        $(".custom").iqDropdown({
          minItems: 1,
          maxItems: 5,
          selectionText: "passenger",
          textPlural: "passengers",
          onChange: function(id, count, totalItems) {
            console.log(id, count, totalItems);
          },
          beforeDecrement: function(id, itemCount) {
            if (id === "adult") {
              return itemCount.adult > itemCount.infant;
            }
            return true;
          },
          beforeIncrement: function(id, itemCount) {
            if (id === "infant") {
              return itemCount.adult > itemCount.infant;
            }
            return true;
          }
        });

        $(".custom-message").iqDropdown({
          minItems: 0,
          onChange: function(id, count, totalItems) {
            console.log(id, count, totalItems);
          },
          setSelectionText: function (itemCount, totalItems) {
            const items = Object.keys(itemCount)
              .map(key => itemCount[key])
              .join(' + ');
            return items + ' = ' + totalItems;
          }
        });
      });
    </script>
  </body>
</html>
